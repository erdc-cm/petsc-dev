<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
  <meta name="GENERATOR" content="Microsoft FrontPage 5.0">
  <title>PETSc: Docs:&nbsp; Changes: 2.2.1</title>
</head>
<body bgcolor="#d5eaff">
<table width="100%">
  <tbody>
    <tr>
      <td width="25%" valign="top">
      <h1><font color="#ff0000" size="7">PETSc</font></h1>
      <ul>
        <li><a href="../../index.html"><strong>Home</strong></a></li>
      </ul>
      </td>
      <td width="75%"><!--##begin-->
      <h1> Docs:&nbsp;Changes: 2.2.1</h1>
<!--##end--> </td>
    </tr>
    <tr>
      <td width="100%" colspan="2">
      <hr size="4" color="#FF5B5B"> </td>
    </tr>
    <tr>
      <td width="25%" valign="top">
      <ul>
        <li><a href="../../download/index.html"><strong>Download</strong></a></li>
        <li><a href="../../features/index.html"><strong>Features</strong></a></li>
        <li><a href="../index.html"><strong>Documentation</strong></a>
          <ul>
            <li><a href="../index.html#Manual"><strong>Manual pages and
Users Manual</strong></a></li>
            <li><a href="../referencing.html"><strong>Referencing&nbsp;
PETSc</strong></a></li>
            <li><a href="../tutorials/index.html"><strong>Tutorials</strong></a></li>
            <li><strong><a href="../installation.html">Installation</a> </strong></li>
            <li><strong><a href="index.html">Changes</a></strong>
              <ul>
                <li><font color="#ff0000">2.2.2</font></li>
                <li><a href="221.html">2.2.1</a></li>
                <li><a href="220.html">2.2.0</a></li>
                <li><a href="216.html">2.1.6</a></li>
                <li><a href="215.html">2.1.5</a></li>
                <li><a href="213.html">2.1.3</a></li>
                <li><a href="212.html">2.1.2</a></li>
                <li><a href="211.html">2.1.1</a></li>
                <li><a href="21.html">2.1.0</a></li>
                <li><a href="2029.html">2.0.29</a></li>
                <li><a href="2028.html">2.0.28</a></li>
                <li><a href="2024.html">2.0.24</a></li>
                <li><a href="2022.html">2.0.22</a></li>
                <li><a href="2918-21.html">2.0.21</a></li>
                <li><a href="2918-21.html">2.0.18-20</a></li>
                <li><a href="2017.html">2.0.17</a></li>
                <li><a href="2016.html">2.0.16</a></li>
                <li><a href="2015.html">2.0.15</a></li>
              </ul>
            </li>
            <li><strong><a href="../troubleshooting.html">Troubleshooting</a></strong></li>
            <li><strong><a href="../bugreporting.html">Bug Reporting</a></strong></li>
            <li><strong><a href="../codemanagement.html">Code Management</a></strong></li>
            <li><strong><a href="../faq.html">FAQ</a> </strong></li>
            <li><strong><a href="../copyright.html">Copyright</a></strong> </li>
          </ul>
        </li>
        <li><a href="../../publications/index.html"><strong>Publications</strong></a></li>
        <li><a href="../../miscellaneous/index.html"><strong>Miscellaneous</strong></a></li>
      </ul>
      </td>
      <td width="75%" valign="top"><!--##begin-->
      <p align="center"><font color="#ff0000" size="5"><a name="CHANGES">CHANGES</a>
in PETSc 2.2.2 </font></p>

      <p><u><b>General:</b></u></p>
        <ul> 
        <li>Options database keys -trmalloc[_xxx] are changed to -malloc[_xxx]   </li>
        <li>-get_resident_set_size and -trinfo are changed to -memory_info   </li>
        <li>PetscTrValid() -> PetscMallocValidate(), PetscTrDebug() -> PetscMallocDebug()   </li>
        <li>-trdebug -> -malloc_debug   </li>
        <li>PetscGetResidentSetSize() -> PetscMemoryGetCurrentUsage(), added PetscMemoryGetMaximumUsage() and PetscMemorySetGetMaximumUsage() </li>
        <li>PetscTrSpace() -> PetscMallocGetCurrentUsage() and PetscMallocGetMaximumUsage()   </li>
      </ul>  
      </p>

      <p><u><b>Vec:</b></u></p>
        <ul> 
        <li>Faster generation of VecScatter for many processes when indices are mostly sorted</li>
        </ul>
      </p>

      <p><u><b>Mat:</b></u></p>
        <ul>
        <li>Added Cholesky and ICC support to SeqBAIJ</li>
        <li>Added the argument MatFactorInfo to MatLUFactorNumeric() and MatCholeskyFactorNumeric()</li>
        <li>Faster MatSetValues()</li>
        <li>Faster parallel-matrix vector products</li>
        </ul>
      </p>

      <p><u><b>PC:</b></u>
        <ul>
        <li>Added PCILUReorderForNonzeroDiagonal() and PCLUReorderForNonzeroDiagonal()</li>
        <li>Replace PCLUSetDamping(), PCILUSetDamping(), PCCholeskySetDamping() and PCICCSetDamping() by PCFactorSetShiftNonzero(). Change the option database keys -pc_lu_damping, -pc_ilu_damping, -pc_cholesky_damping and -pc_icc_damping to -pc_factor_shift_nonzero</li>
        <li>Replace PCLUSetShift(), PCILUSetShift(), PCCholeskySetShift() and PCICCSetShift() by PCFactorSetShiftPd(). Change the option database keys -pc_lu_shift, -pc_ilu_shift, -pc_cholesky_shift and -pc_icc_shift to -pc_factor_shfit_positive_definite</li>
        <li>PCMG: will automatically using the outer pmat operator to define the finest level operator if not user supplied</li>
        <li>PCMG: added MGUseGalerkin(), -pc_mg_galerkin option to have coarser grid matrices computed from the finest grid matrix</li> 
        <li>PCMG: now does referencing counting on set vectors and restriction/interpolation matrices so user need not keep 
                  reference to free later</li>
        <li>PCMG: if user does not provide restriction the interpolation is used and vis versa</li>
        <li>PCMG: if user does not provide Vecs for each level, will automatically provide them</li>
        <li> All routines that began with MG now begin with PCMG</li>
       
       </ul>
      </p>

      <p><u><b>KSP:</b></u></p>
        <ul>
      </ul>
      </p>

      <p><u><b>config/configure.py:</b></u></p>
      <ul>
      </ul>
      </p>

      <p><u><b>SNES:</b></u></p>
      <ul>
         <li> Changed the name and calling sequence for SNESSetLineSearchCheck() to SNESLineSearchSetPostCheck() and
              added a SNESLineSearchSetPreCheck()</li>
         <li> Changed the names of all SNESxxxxLineSearchyyyy() to SNESLineSearchxxxxyyyy() per PETSc naming standard. 
      </ul>
      </p>

      <p> <u><b>TS:<br></b></u>
      <ul>
      </ul>
      </p>

      <p><span style="font-weight: bold; text-decoration: underline;">DA:</span><br></p>
        <ul> 
        <li>Added DAVecGet/RestoreArrayDOF() allowing indexing in the dimension of degrees of freedom at each point on the lattice. </li>
        <li>Faster DAGlobalToLocal() etc for dof > 1. </li>
      </ul>
      </p>

      <p><span style="font-weight: bold; text-decoration: underline;">DMMG:</span><br></p>
        <ul>
          <li>Consolidated DMMG functionality into the new header file &quot;petscdmmg.h&quot;.</li>
        </ul>
      </p>

      <p><span style="font-weight: bold; text-decoration: underline;">SYS:</span></p>
        <ul>
        </ul>
      </p>
  
      <p><span style="font-weight: bold; text-decoration: underline;">Fortran:</span><br></p>
        <ul>
        </ul>
      </p>

      <p><span style="font-weight: bold; text-decoration: underline;">ExternalPackages:</span><br></p>
        </ul>
           <li>ML support added.</li>
        </ul>
      </p>

      </td>
    </tr>
    <tr>
      <td width="100%" colspan="2">
      <hr size="4" color="#FF5B5B"> </td>
    </tr>
  </tbody>
</table>
</body>
</html>
